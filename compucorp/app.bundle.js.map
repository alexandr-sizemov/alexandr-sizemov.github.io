{"version":3,"sources":["webpack:///app.bundle.js","webpack:///./client/app/app.js","webpack:///./client/app/common/common.js","webpack:///./client/app/common/map/map.js","webpack:///./client/app/common/map/map.component.js","webpack:///./client/app/common/map/map.html","webpack:///./client/app/common/map/map.controller.js","webpack:///./client/app/common/map/map.config.js","webpack:///./client/app/common/locationForm/locationForm.js","webpack:///./client/app/common/locationForm/locationForm.html","webpack:///./client/app/common/map/map.styl?95b9","webpack:///./client/app/common/map/map.styl","webpack:///./client/app/common/weather/weather.js","webpack:///./client/app/common/weather/weather.service.js","webpack:///./client/app/common/weather/weather.config.js","webpack:///./client/app/components/components.js","webpack:///./client/app/components/home/home.js","webpack:///./client/app/components/home/home.component.js","webpack:///./client/app/components/home/home.html","webpack:///./client/app/components/home/home.controller.js","webpack:///./client/app/components/home/home.styl?959f","webpack:///./client/app/components/home/home.styl","webpack:///./client/app/app.component.js","webpack:///./client/app/app.html","webpack:///./client/app/app.styl?56ce","webpack:///./client/app/app.styl"],"names":["webpackJsonp","0","module","exports","__webpack_require__","298","_interopRequireDefault","obj","__esModule","default","_angular","_angular2","_angularUiRouter","_angularUiRouter2","_common","_common2","_components","_components2","_app","_app2","config","$locationProvider","html5Mode","hashPrefix","component","302","Object","defineProperty","value","_map","_map2","_weather","_weather2","_locationForm","_locationForm2","commonModule","name","303","mapModule","304","_map3","_map4","mapComponent","restrict","bindings","template","controller","scope","getLocation","305","306","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_mapConfig","_mapConfig2","MapController","weather","locationNotifyService","this","_scope","_locationNotifyService","getUserGeolocation","bind","subscribe","eventsList","locationChange","initialize","key","_this","map","google","maps","Map","document","getElementById","geocoder","Geocoder","event","addListener","getWeatherData","navigator","geolocation","getCurrentPosition","position","center","LatLng","coords","latitude","longitude","setCenter","notify","toggleFormVisibility","location","geocode","address","country","postcode","results","status","geometry","Marker","isVisible","info","327","lat","lng","zoom","328","undefined","_values","_values2","geocodeResult","angular","controllerAs","toggleForm","action","$apply","showGeoCodeResult","isResultVisible","resultInfo","factory","$rootScope","callback","handler","$on","data","some","e","$emit","349","350","content","id","locals","351","push","354","service","355","_weatherConfig","_weatherConfig2","WeatherService","$http","stationList","api","token","url","bounds","getBounds","getZoom","ln","getNorthEast","ln2","getSouthWest","lng1","lat1","lng2","lat2","get","then","response","clearWeather","list","forEach","city","weatherMarker","getMarker","coord","lon","icon","iconId","iconUrl","station","setMap","356","357","_home","_home2","componentModule","358","homeModule","$stateProvider","$urlRouterProvider","otherwise","state","359","_home3","_home4","homeComponent","360","361","HomeController","362","363","364","appComponent","365","366","367"],"mappings":"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","file":"app.bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(298);\n\n\n/***/ },\n\n/***/ 298:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _angularUiRouter = __webpack_require__(301);\n\t\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\t\n\tvar _common = __webpack_require__(302);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tvar _components = __webpack_require__(357);\n\t\n\tvar _components2 = _interopRequireDefault(_components);\n\t\n\tvar _app = __webpack_require__(364);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\t__webpack_require__(368);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_angular2.default.module('app', [_angularUiRouter2.default, _common2.default, _components2.default]).config([\"$locationProvider\", function ($locationProvider) {\n\t  \"ngInject\";\n\t  // @see: https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions\n\t  // #how-to-configure-your-server-to-work-with-html5mode\n\t\n\t  $locationProvider.html5Mode(true).hashPrefix('!');\n\t}]).component('app', _app2.default);\n\n/***/ },\n\n/***/ 302:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _map = __webpack_require__(303);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tvar _weather = __webpack_require__(354);\n\t\n\tvar _weather2 = _interopRequireDefault(_weather);\n\t\n\tvar _locationForm = __webpack_require__(328);\n\t\n\tvar _locationForm2 = _interopRequireDefault(_locationForm);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar commonModule = _angular2.default.module('app.common', [_weather2.default, _map2.default, _locationForm2.default]).name;\n\t\n\texports.default = commonModule;\n\n/***/ },\n\n/***/ 303:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _angularUiRouter = __webpack_require__(301);\n\t\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\t\n\tvar _map = __webpack_require__(304);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mapModule = _angular2.default.module('map', [_angularUiRouter2.default, 'weather']).component('map', _map2.default).name;\n\t\n\texports.default = mapModule;\n\n/***/ },\n\n/***/ 304:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _map = __webpack_require__(305);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tvar _map3 = __webpack_require__(306);\n\t\n\tvar _map4 = _interopRequireDefault(_map3);\n\t\n\t__webpack_require__(350);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mapComponent = {\n\t  restrict: 'E',\n\t  bindings: {},\n\t  template: _map2.default,\n\t  controller: ['$scope', 'WeatherService', 'locationNotifyService', _map4.default],\n\t  scope: {\n\t    getLocation: '='\n\t  }\n\t};\n\t\n\texports.default = mapComponent;\n\n/***/ },\n\n/***/ 305:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<section class=\\\"map grey darken-3\\\">\\n  <div id=\\\"map\\\"></div>\\n</section>\\n\"\n\n/***/ },\n\n/***/ 306:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(307);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(308);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _mapConfig = __webpack_require__(327);\n\t\n\tvar _mapConfig2 = _interopRequireDefault(_mapConfig);\n\t\n\tvar _locationForm = __webpack_require__(328);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar MapController = function () {\n\t  function MapController(scope, weather, locationNotifyService) {\n\t    (0, _classCallCheck3.default)(this, MapController);\n\t\n\t    this.name = 'Map';\n\t    this._scope = scope;\n\t    this._weather = weather;\n\t    this._locationNotifyService = locationNotifyService;\n\t\n\t    this.getUserGeolocation = this.getUserGeolocation.bind(this);\n\t    this._locationNotifyService.subscribe(scope, _locationForm.eventsList.locationChange, this.getLocation.bind(this));\n\t    this.initialize();\n\t  }\n\t\n\t  (0, _createClass3.default)(MapController, [{\n\t    key: 'initialize',\n\t    value: function initialize() {\n\t      var _this = this;\n\t\n\t      this.map = new google.maps.Map(document.getElementById('map'), _mapConfig2.default);\n\t      this.geocoder = new google.maps.Geocoder();\n\t      this.getUserGeolocation();\n\t      google.maps.event.addListener(this.map, 'idle', function () {\n\t        _this._weather.getWeatherData(_this.map);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getUserGeolocation',\n\t    value: function getUserGeolocation() {\n\t\n\t      var map = this.map;\n\t      var scope = this._scope;\n\t      var locationNotifyService = this._locationNotifyService;\n\t      if (navigator) {\n\t        navigator.geolocation.getCurrentPosition(function (position) {\n\t          var center = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n\t          map.setCenter(center);\n\t        }, function () {\n\t          locationNotifyService.notify(_locationForm.eventsList.toggleFormVisibility, true);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getLocation',\n\t    value: function getLocation(event, location) {\n\t      var map = this.map;\n\t      var locationNotifyService = this._locationNotifyService;\n\t      this.geocoder.geocode({ 'address': location.country + ' ' + location.postcode }, function (results, status) {\n\t        if (status === 'OK') {\n\t\n\t          map.setCenter(results[0].geometry.location);\n\t          var marker = new google.maps.Marker({\n\t            map: map,\n\t            position: results[0].geometry.location\n\t          });\n\t        } else {\n\t          locationNotifyService.notify(_locationForm.eventsList.toggleFormVisibility, {\n\t            isVisible: true,\n\t            info: 'Geocode was not successful for the following reason: ' + status\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t  return MapController;\n\t}();\n\t\n\texports.default = MapController;\n\n/***/ },\n\n/***/ 327:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  center: { lat: 43, lng: 7 },\n\t  zoom: 8\n\t};\n\n/***/ },\n\n/***/ 328:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.eventsList = undefined;\n\t\n\tvar _values = __webpack_require__(329);\n\t\n\tvar _values2 = _interopRequireDefault(_values);\n\t\n\tvar _locationForm = __webpack_require__(349);\n\t\n\tvar _locationForm2 = _interopRequireDefault(_locationForm);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar eventsList = exports.eventsList = {\n\t  locationChange: 'location-change',\n\t  toggleFormVisibility: 'toggle-form-vibility',\n\t  geocodeResult: 'geocode-result'\n\t};\n\t\n\texports.default = angular.module('locationForm', []).component('locationForm', {\n\t  template: _locationForm2.default,\n\t  bindings: {\n\t    country: '&',\n\t    postcode: '&'\n\t  },\n\t  controllerAs: 'locationFormController',\n\t  controller: ['$scope', 'locationNotifyService', function (scope, locationNotifyService) {\n\t\n\t    var toggleForm = function toggleForm(event, action) {\n\t      scope.isVisible = action;\n\t      scope.$apply();\n\t    };\n\t\n\t    var showGeoCodeResult = function showGeoCodeResult(event, action) {\n\t      scope.isResultVisible = action.isVisible;\n\t      scope.resultInfo = action.info;\n\t      scope.$apply();\n\t    };\n\t\n\t    locationNotifyService.subscribe(scope, eventsList.toggleFormVisibility, toggleForm);\n\t    locationNotifyService.subscribe(scope, eventsList.geocodeResult, showGeoCodeResult);\n\t\n\t    scope.isVisible = false;\n\t    scope.isResultVisible = false;\n\t    scope.resultInfo = '';\n\t\n\t    scope.getLocation = function () {\n\t      var location = {\n\t        country: scope.country || '',\n\t        postcode: scope.postcode || ''\n\t      };\n\t      locationNotifyService.notify(eventsList.locationChange, location);\n\t    };\n\t  }]\n\t}).factory('locationNotifyService', [\"$rootScope\", function ($rootScope) {\n\t  // minimal observer pattern for notify events between location form and map\n\t  // #events:\n\t  // - location-change\n\t  // - toggle-form\n\t  return {\n\t    subscribe: function subscribe(scope, event, callback) {\n\t      var handler = $rootScope.$on(event, callback);\n\t      scope.$on('$destroy', handler);\n\t    },\n\t    notify: function notify(event, data) {\n\t      if ((0, _values2.default)(eventsList).some(function (e) {\n\t        return e == event;\n\t      })) {\n\t        $rootScope.$emit(event, data);\n\t      }\n\t    }\n\t  };\n\t}]).name;\n\n/***/ },\n\n/***/ 349:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"container\\\" ng-show=\\\"isVisible\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col s12\\\">\\n        <h1>Insert postcode or country</h1>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col m5\\\">\\n      <div class=\\\"input-field\\\">\\n          <input id=\\\"country\\\" ng-model=\\\"country\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n          <label for=\\\"country\\\">country</label>\\n        </div>\\n      </div>\\n        <div class=\\\"col m5\\\">\\n      <div class=\\\"input-field\\\">\\n          <input id=\\\"postcode\\\" ng-model=\\\"postcode\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n          <label for=\\\"postcode\\\">postcode</label>\\n        </div>\\n      </div>\\n      <div class=\\\"col m2\\\">\\n        <div class=\\\"input-field\\\">\\n          <a class=\\\"waves-effect waves-light btn\\\" ng-click=\\\"getLocation()\\\">DISCOVER WEATHER</a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col s2\\\" ng-show=\\\"isResultVisible\\\">\\n        <p>{{resultInfo}}</p>\\n      </div>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 350:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(351);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(353)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./map.styl\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./map.styl\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 351:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(352)();\n\t// imports\n\texports.push([module.id, \"@import url(http://fonts.googleapis.com/css?family=Roboto);\", \"\"]);\n\t\n\t// module\n\texports.push([module.id, \"body{height:100%;width:100%;font:62.5% Roboto,sans-serif}.map{background-color:#263238;height:100vh}.map #map{height:100%;width:100%}.map *{color:#f5f5f5}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 354:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _weather = __webpack_require__(355);\n\t\n\tvar _weather2 = _interopRequireDefault(_weather);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar weather = _angular2.default.module('weather', []).service('WeatherService', ['$http', _weather2.default]).name;\n\t\n\texports.default = weather;\n\n/***/ },\n\n/***/ 355:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(307);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(308);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _weatherConfig = __webpack_require__(356);\n\t\n\tvar _weatherConfig2 = _interopRequireDefault(_weatherConfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar WeatherService = function () {\n\t  function WeatherService($http) {\n\t    (0, _classCallCheck3.default)(this, WeatherService);\n\t\n\t    this.$http = $http;\n\t    this.stationList = [];\n\t\n\t    this.api = _weatherConfig2.default.api;\n\t    this.token = _weatherConfig2.default.token;\n\t  }\n\t\n\t  (0, _createClass3.default)(WeatherService, [{\n\t    key: 'getWeatherData',\n\t    value: function getWeatherData(map) {\n\t      var _this = this;\n\t\n\t      var url = this.api;\n\t\n\t      var token = this.token;\n\t      var bounds = map.getBounds(),\n\t          zoom = map.getZoom();\n\t\n\t      var ln = bounds.getNorthEast();\n\t      var ln2 = bounds.getSouthWest();\n\t\n\t      var lng1 = ln.lng();\n\t      var lat1 = ln.lat();\n\t      var lng2 = ln2.lng();\n\t      var lat2 = ln2.lat();\n\t\n\t      url += '?bbox=' + lng1 + ',' + lat1 + ',' + lng2 + ',' + lat2 + ',' + zoom + '&cluster=yes&appid=' + token;\n\t\n\t      this.$http.get(url).then(function (response) {\n\t        _this.clearWeather();\n\t        response.data.list.forEach(function (city) {\n\t          var weatherMarker = _this.getMarker(map, city.coord.lat, city.coord.lon, city.weather[0].icon);\n\t          _this.stationList.push(weatherMarker);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getMarker',\n\t    value: function getMarker(map, lat, lng, iconId) {\n\t      return new google.maps.Marker({\n\t        position: new google.maps.LatLng(lat, lng),\n\t        map: map,\n\t        icon: _weatherConfig2.default.iconUrl + (iconId + '.png')\n\t      });\n\t    }\n\t  }, {\n\t    key: 'clearWeather',\n\t    value: function clearWeather() {\n\t      this.stationList.forEach(function (station) {\n\t        return station.setMap(null);\n\t      });\n\t    }\n\t  }]);\n\t  return WeatherService;\n\t}();\n\t\n\texports.default = WeatherService;\n\n/***/ },\n\n/***/ 356:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  api: 'http://api.openweathermap.org/data/2.5/box/city',\n\t  token: '47da3950edf0fcef40421e3233676404',\n\t  iconUrl: 'http://openweathermap.org/img/w/'\n\t};\n\n/***/ },\n\n/***/ 357:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _home = __webpack_require__(358);\n\t\n\tvar _home2 = _interopRequireDefault(_home);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar componentModule = _angular2.default.module('app.components', [_home2.default]).name;\n\t\n\texports.default = componentModule;\n\n/***/ },\n\n/***/ 358:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(299);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _angularUiRouter = __webpack_require__(301);\n\t\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\t\n\tvar _home = __webpack_require__(359);\n\t\n\tvar _home2 = _interopRequireDefault(_home);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar homeModule = _angular2.default.module('home', [_angularUiRouter2.default]).config([\"$stateProvider\", \"$urlRouterProvider\", function ($stateProvider, $urlRouterProvider) {\n\t  \"ngInject\";\n\t\n\t  $urlRouterProvider.otherwise('/');\n\t\n\t  $stateProvider.state('home', {\n\t    url: '/',\n\t    component: 'home'\n\t  });\n\t}]).component('home', _home2.default).name;\n\t\n\texports.default = homeModule;\n\n/***/ },\n\n/***/ 359:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _home = __webpack_require__(360);\n\t\n\tvar _home2 = _interopRequireDefault(_home);\n\t\n\tvar _home3 = __webpack_require__(361);\n\t\n\tvar _home4 = _interopRequireDefault(_home3);\n\t\n\t__webpack_require__(362);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar homeComponent = {\n\t  restrict: 'E',\n\t  bindings: {},\n\t  template: _home2.default,\n\t  controller: _home4.default\n\t};\n\t\n\texports.default = homeComponent;\n\n/***/ },\n\n/***/ 360:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<main id=\\\"container\\\">\\n  <location-form/></location-form>  \\n  <map></map>\\n</main>\\n\\n\"\n\n/***/ },\n\n/***/ 361:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(307);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar HomeController = function HomeController() {\n\t  (0, _classCallCheck3.default)(this, HomeController);\n\t\n\t  this.name = 'home';\n\t};\n\t\n\texports.default = HomeController;\n\n/***/ },\n\n/***/ 362:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(363);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(353)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./home.styl\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./home.styl\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 363:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(352)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".home{color:red}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 364:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _app = __webpack_require__(365);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\t__webpack_require__(366);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar appComponent = {\n\t  template: _app2.default,\n\t  restrict: 'E'\n\t};\n\t\n\texports.default = appComponent;\n\n/***/ },\n\n/***/ 365:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<!-- Place all UI elements intended to be present across all routes in this file -->\\n<div class=\\\"app\\\">\\n  <div ui-view></div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 366:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(367);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(353)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 367:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(352)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".app{height:100%;background-color:$lightBgColor}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.bundle.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport Common from './common/common';\nimport Components from './components/components';\nimport AppComponent from './app.component';\nimport 'normalize.css';\n\n\nangular.module('app', [\n    uiRouter,\n    Common,\n    Components\n  ])\n  .config(($locationProvider) => {\n    \"ngInject\";\n    // @see: https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions\n    // #how-to-configure-your-server-to-work-with-html5mode\n    $locationProvider.html5Mode(true).hashPrefix('!');\n  })\n\n  .component('app', AppComponent);\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/app.js\n **/","import angular from 'angular';\nimport Map from './map/map';\nimport Weather from './weather/weather';\nimport LocationForm from './locationForm/locationForm';\n\nlet commonModule = angular.module('app.common', [\n  Weather,\n  Map,\n  LocationForm\n])\n  \n.name;\n\nexport default commonModule;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/common.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport mapComponent from './map.component';\n\nlet mapModule = angular.module('map', [\n  uiRouter,\n  'weather'\n])\n\n.component('map', mapComponent)\n  \n.name;\n\nexport default mapModule;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/map/map.js\n **/","import template from './map.html';\nimport controller from './map.controller';\nimport './map.styl';\n\nlet mapComponent = {\n  restrict: 'E',\n  bindings: {},\n  template,\n  controller: ['$scope', 'WeatherService', 'locationNotifyService', controller],\n  scope:{\n    getLocation:'='\n  }\n};\n\nexport default mapComponent;\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/map/map.component.js\n **/","module.exports = \"<section class=\\\"map grey darken-3\\\">\\n  <div id=\\\"map\\\"></div>\\n</section>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/common/map/map.html\n ** module id = 305\n ** module chunks = 0\n **/","import config from './map.config.js'\nimport {eventsList} from '../locationForm/locationForm'\n\nclass MapController {\n  constructor(scope, weather, locationNotifyService) {\n    this.name = 'Map';\n    this._scope = scope\n    this._weather = weather\n    this._locationNotifyService = locationNotifyService\n\n    this.getUserGeolocation = this.getUserGeolocation.bind(this)\n    this._locationNotifyService.subscribe(scope, eventsList.locationChange,  this.getLocation.bind(this))\n    this.initialize()\n  }\n\n  initialize(){\n    this.map = new google.maps.Map(document.getElementById('map'), config )\n    this.geocoder = new google.maps.Geocoder()\n    this.getUserGeolocation()\n    google.maps.event.addListener(this.map,'idle', () => { this._weather.getWeatherData(this.map) })\n  }\n\n  getUserGeolocation() {\n\n    let map = this.map\n    let scope = this._scope\n    let locationNotifyService = this._locationNotifyService\n    if(navigator){\n      navigator.geolocation.getCurrentPosition(\n          (position) => {\n            let center = new google.maps.LatLng(position.coords.latitude, position.coords.longitude)\n            map.setCenter(center)\n          },\n          () => { locationNotifyService.notify(eventsList.toggleFormVisibility,true) }\n        )\n    }\n \n  }\n\n  getLocation(event, location){\n    let map = this.map\n    let locationNotifyService = this._locationNotifyService\n    this.geocoder.geocode({'address': location.country + ' ' + location.postcode}, function(results, status) {\n          if (status === 'OK') {\n\n            map.setCenter(results[0].geometry.location)\n            var marker = new google.maps.Marker({\n              map: map,\n              position: results[0].geometry.location\n            });\n          } else {\n            locationNotifyService.notify(\n              eventsList.toggleFormVisibility,\n              {\n                isVisible: true,\n                info:'Geocode was not successful for the following reason: ' + status\n              })\n          }\n        });\n  }\n\n}\n\nexport default MapController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/map/map.controller.js\n **/","export default {\n  center: {lat: 43, lng: 7},\n  zoom: 8\n}\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/map/map.config.js\n **/","import template from './locationForm.html'\n\nexport const eventsList = {\n  locationChange:'location-change',\n  toggleFormVisibility:'toggle-form-vibility',\n  geocodeResult:'geocode-result'\n}\n\nexport default angular.module('locationForm',[]).component('locationForm', {\n  template: template,\n  bindings: {\n    country: '&',\n    postcode: '&'\n  },\n  controllerAs: 'locationFormController',\n  controller: ['$scope','locationNotifyService', (scope, locationNotifyService) => {\n\n    let toggleForm = (event, action) => { \n      scope.isVisible = action\n      scope.$apply()\n    }\n\n    let showGeoCodeResult = (event, action) => {\n      scope.isResultVisible = action.isVisible\n      scope.resultInfo = action.info\n      scope.$apply()\n    }\n\n    locationNotifyService.subscribe(scope, eventsList.toggleFormVisibility, toggleForm)\n    locationNotifyService.subscribe(scope, eventsList.geocodeResult, showGeoCodeResult)\n\n    scope.isVisible = false\n    scope.isResultVisible = false\n    scope.resultInfo = ''\n\n\n\n    scope.getLocation = () => {\n      let location = {\n        country:scope.country || '',\n        postcode: scope.postcode || ''\n      }\n      locationNotifyService.notify(eventsList.locationChange,  location)\n    }\n\n  }]\n}).factory('locationNotifyService', ($rootScope) => {\n    // minimal observer pattern for notify events between location form and map\n    // #events:\n    // - location-change\n    // - toggle-form\n    return {\n        subscribe: (scope, event, callback) => {\n            var handler = $rootScope.$on(event, callback);\n            scope.$on('$destroy', handler)\n        },\n        notify: (event, data) => {\n            if( Object.values(eventsList).some(e => e==event) ){\n              $rootScope.$emit(event, data)\n            }\n        }\n    }\n})\n.name\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/locationForm/locationForm.js\n **/","module.exports = \"<div class=\\\"container\\\" ng-show=\\\"isVisible\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col s12\\\">\\n        <h1>Insert postcode or country</h1>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col m5\\\">\\n      <div class=\\\"input-field\\\">\\n          <input id=\\\"country\\\" ng-model=\\\"country\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n          <label for=\\\"country\\\">country</label>\\n        </div>\\n      </div>\\n        <div class=\\\"col m5\\\">\\n      <div class=\\\"input-field\\\">\\n          <input id=\\\"postcode\\\" ng-model=\\\"postcode\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n          <label for=\\\"postcode\\\">postcode</label>\\n        </div>\\n      </div>\\n      <div class=\\\"col m2\\\">\\n        <div class=\\\"input-field\\\">\\n          <a class=\\\"waves-effect waves-light btn\\\" ng-click=\\\"getLocation()\\\">DISCOVER WEATHER</a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col s2\\\" ng-show=\\\"isResultVisible\\\">\\n        <p>{{resultInfo}}</p>\\n      </div>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/common/locationForm/locationForm.html\n ** module id = 349\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./map.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./map.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./map.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/common/map/map.styl\n ** module id = 350\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\nexports.push([module.id, \"@import url(http://fonts.googleapis.com/css?family=Roboto);\", \"\"]);\n\n// module\nexports.push([module.id, \"body{height:100%;width:100%;font:62.5% Roboto,sans-serif}.map{background-color:#263238;height:100vh}.map #map{height:100%;width:100%}.map *{color:#f5f5f5}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/stylus-loader!./client/app/common/map/map.styl\n ** module id = 351\n ** module chunks = 0\n **/","import angular from 'angular';\nimport WeatherService from './weather.service';\n\nlet weather = angular.module('weather', [])\n\n.service('WeatherService', ['$http', WeatherService])\n  \n.name;\n\nexport default weather;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/weather/weather.js\n **/","import config from './weather.config.js'\n\nclass WeatherService {\n\n  constructor($http) {\n    this.$http = $http\n    this.stationList = []\n    \n    this.api = config.api\n    this.token = config.token\n  }\n\n  getWeatherData(map){\n    let url = this.api\n\n    let token = this.token\n    let bounds = map.getBounds(),\n        zoom = map.getZoom();\n\n    let ln = bounds.getNorthEast();\n    let ln2 = bounds.getSouthWest();\n\n    let lng1 = ln.lng()\n    let lat1 = ln.lat()\n    let lng2 = ln2.lng()\n    let lat2 = ln2.lat()\n    \n    url += `?bbox=${lng1},${lat1},${lng2},${lat2},${zoom}&cluster=yes&appid=${token}`\n\n    this.$http.get(url).then((response) => {\n      this.clearWeather();\n      response.data.list.forEach( (city) => {\n          var weatherMarker = this.getMarker(map, city.coord.lat, city.coord.lon, city.weather[0].icon);\n          this.stationList.push(weatherMarker);\n        });\n      })\n  }\n\n\n  getMarker(map, lat, lng, iconId) {\n    return new google.maps.Marker({\n        position: new google.maps.LatLng(lat, lng),\n        map: map,\n        icon: config.iconUrl+`${iconId}.png`\n    });\n  }\n\n  clearWeather() {\n    this.stationList.forEach((station) => station.setMap(null) );\n  }\n\n}\n\n\n\nexport default WeatherService;\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/weather/weather.service.js\n **/","export default {\n  api: 'http://api.openweathermap.org/data/2.5/box/city',\n  token: '47da3950edf0fcef40421e3233676404',\n  iconUrl: 'http://openweathermap.org/img/w/'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/common/weather/weather.config.js\n **/","import angular from 'angular';\nimport Home from './home/home'\n\nlet componentModule = angular.module('app.components', [\n  Home\n])\n  \n.name;\n\nexport default componentModule;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/components/components.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport homeComponent from './home.component';\n\nlet homeModule = angular.module('home', [\n  uiRouter\n])\n\n.config(($stateProvider, $urlRouterProvider) => {\n  \"ngInject\";\n\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('home', {\n      url: '/',\n      component: 'home'\n    });\n})\n\n.component('home', homeComponent)\n  \n.name;\n\nexport default homeModule;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/components/home/home.js\n **/","import template from './home.html';\nimport controller from './home.controller';\nimport './home.styl';\nlet homeComponent = {\n  restrict: 'E',\n  bindings: {},\n  template,\n  controller\n};\n\nexport default homeComponent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/components/home/home.component.js\n **/","module.exports = \"<main id=\\\"container\\\">\\n  <location-form/></location-form>  \\n  <map></map>\\n</main>\\n\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/components/home/home.html\n ** module id = 360\n ** module chunks = 0\n **/","class HomeController {\n  constructor() {\n    this.name = 'home';\n  }\n}\n\nexport default HomeController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/components/home/home.controller.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./home.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./home.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/stylus-loader/index.js!./home.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/components/home/home.styl\n ** module id = 362\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".home{color:red}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/stylus-loader!./client/app/components/home/home.styl\n ** module id = 363\n ** module chunks = 0\n **/","import template from './app.html';\nimport './app.styl';\n\nlet appComponent = {\n  template,\n  restrict: 'E'\n};\n\nexport default appComponent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/app/app.component.js\n **/","module.exports = \"<!-- Place all UI elements intended to be present across all routes in this file -->\\n<div class=\\\"app\\\">\\n  <div ui-view></div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/app.html\n ** module id = 365\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/app/app.styl\n ** module id = 366\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".app{height:100%;background-color:$lightBgColor}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/stylus-loader!./client/app/app.styl\n ** module id = 367\n ** module chunks = 0\n **/"],"sourceRoot":""}